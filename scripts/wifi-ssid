#!/usr/bin/env bash

# Extract the wifi username (SSID)
# Refer: "iw dev wlan0 link" command output for this
import subprocess
import re

def get_wifi_ssid():
    try:
        result = subprocess.run(['iw', 'dev', 'wlan0', 'link'], capture_output=True, text=True)
        output = result.stdout
        match = re.search(r'SSID: (.+)', output)
        if match:
            return match.group(1)
        else:
            return "Not connected to any WiFi network"
    except Exception as e:
        return f"Error: {e}"

if __name__ == "__main__":
    ssid = get_wifi_ssid()
    print(f"Connected WiFi SSID: {ssid}")
