#!/usr/bin/env bash

temp_milli=$(grep -E 'Tctl|Tdie|Package id 0' /sys/class/hwmon/hwmon*/temp*_label | head -n1 | cut -d':' -f1 | sed 's/label/input/' | xargs -r cat)

if [ -z "$temp_milli" ]; then
  echo "Temperature data not found. Check available sensors manually."
  exit 1
fi

temp_c=$(echo "scale=1; $temp_milli / 1000" | bc)
temp_f=$(echo "scale=1; ($temp_c * 9/5) + 32" | bc)

echo "Celsius: ${temp_c}°C"
echo "Fahrenheit: ${temp_f}°F"
